# Доступы к системе Production HACCP Control

## Тестовые учетные записи

Все пользователи имеют пароль: **`password`**

| Роль | Email | Имя | Описание |
|------|-------|-----|----------|
| **Директор** | director@example.com | Директор | Полный доступ, управление Audit Mode |
| **Руководитель производства** | head@example.com | Руководитель производства | Управление Audit Mode, контроль готовности |
| **Технолог** | technologist@example.com | Технолог | Только просмотр (read-only) |
| **Аудитор** | auditor@example.com | Аудитор | Только просмотр (read-only) |
| **Сотрудник** | employee@example.com | Сотрудник | Работа с документами, задачами |
| **Админ журналов** | journals-admin@example.com | Админ журналов | Заполнение журналов HACCP |

## Права доступа по ролям

### Director (Директор)
- ✅ Управление Audit Mode (Start/Stop)
- ✅ Полный доступ ко всем модулям
- ✅ Создание и редактирование документов
- ✅ Работа с реестром
- ✅ Просмотр всех журналов и отчётов
- ✅ Управление несоответствиями

### Head (Руководитель производства)
- ✅ Управление Audit Mode (Start/Stop)
- ✅ Полный доступ ко всем модулям
- ✅ Создание и редактирование документов
- ✅ Работа с реестром
- ✅ Просмотр всех журналов и отчётов
- ✅ Управление несоответствиями

### Technologist (Технолог)
- ❌ Только просмотр (read-only)
- ✅ Просмотр документов
- ✅ Просмотр реестра
- ✅ Просмотр журналов
- ✅ Просмотр несоответствий
- ❌ Нет прав на изменение данных

### Auditor (Аудитор)
- ❌ Только просмотр (read-only)
- ✅ Просмотр документов
- ✅ Просмотр реестра
- ✅ Просмотр журналов
- ✅ Просмотр несоответствий
- ✅ Доступ к Audit Checklist и Audit Package
- ❌ Нет прав на изменение данных

### Employee (Сотрудник)
- ✅ Работа с назначенными задачами
- ✅ Согласование документов (в рамках задач)
- ✅ Просмотр документов (где участвует)
- ✅ Создание документов
- ❌ Ограниченный доступ к реестру и журналам

### Journals Admin (Админ журналов)
- ✅ Заполнение журналов температур
- ✅ Заполнение журналов здоровья
- ✅ Подписание журналов
- ✅ Экспорт PDF журналов
- ❌ Ограниченный доступ к документам и реестру

## Особенности Audit Mode

Когда активен **Audit Mode** (режим проверки):

### Блокируются действия:
- ❌ Редактирование прошлых записей в журналах
- ❌ Добавление записей в реестр
- ❌ Создание новых документов
- ❌ Импорт документов
- ❌ Закрытие несоответствий
- ❌ Изменение исполнения утверждённых документов

### Разрешены действия:
- ✅ Заполнение журналов за текущий день
- ✅ Работа с задачами (согласование документов)
- ✅ Просмотр всех данных
- ✅ Экспорт PDF
- ✅ Создание несоответствий

## Первый вход в систему

1. Откройте [http://localhost:3000](http://localhost:3000)
2. Выберите нужную роль из списка тестовых пользователей
3. Введите email и пароль: **`password`**
4. После входа вы попадёте на Dashboard

## Смена пароля

Для production использования рекомендуется:
1. Сменить все пароли после первого входа
2. Использовать сложные пароли (минимум 12 символов)
3. Настроить двухфакторную аутентификацию (если требуется)

## Техническая информация

- **База данных**: PostgreSQL (Supabase)
- **Аутентификация**: NextAuth.js
- **Хеширование паролей**: bcrypt (10 раундов)
- **Сессии**: JWT токены

## Восстановление доступа

Если вы забыли пароль или потеряли доступ:
1. Обратитесь к администратору системы
2. Администратор может сбросить пароль через Prisma Studio или seed скрипт
3. Для сброса всех данных: `npm run db:seed`

---

**Важно**: Эти учетные записи предназначены только для тестирования и демонстрации. Для production использования создайте новых пользователей с безопасными паролями.
